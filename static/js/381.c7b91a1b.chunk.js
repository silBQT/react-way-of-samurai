"use strict";(self.webpackChunksocial_network_app=self.webpackChunksocial_network_app||[]).push([[381],{1548:(s,e,t)=>{t.d(e,{D:()=>a});t(2791);var o=t(4420),r=t(7689),i=t(184);let n=s=>({isAuth:s.auth.isAuth});const a=s=>(0,o.$j)(n)((e=>e.isAuth?(0,i.jsx)(s,{...e}):(0,i.jsx)(r.Fg,{to:"/login"})))},4381:(s,e,t)=>{t.r(e),t.d(e,{default:()=>D});var o=t(2791),r=t(4420);const i={profile_info__banner:"ProfileInfo_profile_info__banner__teem6",profile_info__wrapper:"ProfileInfo_profile_info__wrapper__Xu5+R",profile_info__pic:"ProfileInfo_profile_info__pic__dEWGu",profile_info__content:"ProfileInfo_profile_info__content__hsN-j",profile_info__name:"ProfileInfo_profile_info__name__pBezn"};var n=t(4010),a=t(6939),l=t(184);const p=s=>{const[e,t]=(0,o.useState)(s.status),[r,i]=(0,o.useState)(!1);(0,o.useEffect)((()=>{t(s.status)}),[s.status]);return r?(0,l.jsx)("div",{children:(0,l.jsx)("input",{onChange:s=>{t(s.target.value)},onBlur:()=>{i(!1),s.updateUserStatus(e)},autoFocus:!0,value:e})}):(0,l.jsx)("div",{children:(0,l.jsx)("span",{onDoubleClick:()=>{i(!0)},children:s.status||"\u041d\u0435\u0442 \u0441\u0442\u0430\u0442\u0443\u0441\u0430"})})},_=s=>s.profile?(0,l.jsxs)("div",{className:i.profile_info,children:[(0,l.jsx)("img",{className:i.profile_info__banner,src:"https://pixelbox.ru/wp-content/uploads/2021/10/banner-twitch-anime-pixelbox.ru-10-scaled.jpg",alt:"profile_banner"}),(0,l.jsxs)("div",{className:i.profile_info__wrapper,children:[(0,l.jsx)("img",{src:null!=s.profile.photos.large?s.profile.photos.large:a.Z,alt:"profile_pic",className:i.profile_info__pic}),(0,l.jsxs)("div",{className:i.profile_info__content,children:[(0,l.jsx)("span",{className:i.profile_info__name,children:s.profile.fullName}),(0,l.jsx)(p,{status:s.status,updateUserStatus:s.updateUserStatus}),null!=s.profile.aboutMe&&"\u041e \u0441\u0435\u0431\u0435: ".concat(s.profile.aboutMe)," ",(0,l.jsx)("br",{})]})]})]}):(0,l.jsx)(n.Z,{}),u={};var c=t(6070);const d="Posts_posts__FKzX6",f="Posts_posts__wrapper__5FSDX",h="Post_post__W92pf",j="Post_post__body__uhr0l",x="Post_post__info__GXva1",m=s=>(0,l.jsxs)("div",{className:h,children:[(0,l.jsxs)("div",{className:j,children:[(0,l.jsx)("img",{src:"https://bigpicture.ru/wp-content/uploads/2022/06/bigpicture_ru_bez-nazvanija-2022-06-24t183807.456.jpg",alt:"profile_pic"}),s.body]}),(0,l.jsxs)("div",{className:x,children:["Likes: ",s.likesCount,(0,l.jsx)("button",{children:"Like"})]})]});var b=t(1154),g=t(6139),v=t(5304),P=t(5530);const C=(0,v.D)(50),N=s=>(0,l.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,l.jsx)(g.Z,{component:P.g,validate:[v.C,C],name:"newPostBody",placeholder:"your news..."}),(0,l.jsx)("button",{children:"Add post"})]});var w=t(704);const S=(0,b.qC)((0,w.Z)({form:"profileAddPostForm"}))(N),U=o.memo((s=>{let e=s.posts.map((s=>(0,l.jsx)(m,{id:s.id,body:s.body,likesCount:s.likesCount},s.id)));return(0,l.jsxs)("div",{className:d,children:[(0,l.jsx)("h2",{children:"My posts"}),(0,l.jsx)(S,{onSubmit:e=>{s.addPost(e.newPostBody)}}),(0,l.jsx)("div",{className:f,children:e})]})}));const k=(0,r.$j)((s=>({posts:s.profilePage.posts})),{addPost:c.q2})(U),y=s=>(0,l.jsxs)("div",{className:u.profile,children:[(0,l.jsx)(_,{profile:s.profile,status:s.status,updateUserStatus:s.updateUserStatus}),(0,l.jsx)(k,{})]});var I=t(2055),F=t(1548);class A extends o.Component{componentDidMount(){let s=this.props.router.params.userId;s||(s=this.props.authorizedUserId,s||this.props.history.push("/login")),this.props.getUserProfile(s),this.props.getUserStatus(s)}render(){return(0,l.jsx)(y,{...this.props})}}const D=(0,b.qC)((0,r.$j)((s=>({profile:s.profilePage.profile,status:s.profilePage.status,isAuth:s.auth.isAuth,authorizedUserId:s.auth.userId})),{getUserProfile:c.et,getUserStatus:c.Tq,updateUserStatus:c.OL}),I.Z,F.D)(A)},5530:(s,e,t)=>{t.d(e,{I:()=>l,g:()=>a});const o="FormsControls_formControl__JXR2U",r="FormsControls_error__gRq-8";var i=t(184);const n=s=>e=>{let{input:t,meta:n,...a}=e;const l=n.error&&n.touched;return(0,i.jsxs)("div",{className:"".concat(o," ").concat(l&&r),children:[(0,i.jsx)(s,{...t,...a}),l&&(0,i.jsx)("div",{children:n.error})]})},a=n("textarea"),l=n("input")},5304:(s,e,t)=>{t.d(e,{C:()=>o,D:()=>r});const o=s=>{if(!s)return"Field is required!"},r=s=>e=>{if(e.length>s)return"Max length is ".concat(s," symbols!")}}}]);
//# sourceMappingURL=381.c7b91a1b.chunk.js.map